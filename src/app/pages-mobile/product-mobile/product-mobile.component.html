<ion-header class="ion-no-border">
  <ion-toolbar>
    <ion-buttons slot="start">
      <ion-button (click)="goBack()">
        <ion-icon slot="icon-only" name="arrow-back-circle-outline"></ion-icon>
      </ion-button>
    </ion-buttons>
    <ion-buttons slot="secondary">
      <ion-button (click)="goToWishlist()">
        <ion-icon slot="icon-only" name="heart"></ion-icon>
      </ion-button>
      <ion-button (click)="goToCart()" >
        <ion-icon slot="icon-only" name="cart-outline"></ion-icon>
      </ion-button>
    </ion-buttons>
    <ion-title>{{ currentEvent.name | uppercase }}{{this.bundle? ' BUNDLE' : ''}}</ion-title>


    <!-- <div style="width: 12%;">
      <ion-icon name="arrow-back-circle-outline" (click)="goBack()"></ion-icon>
    </div>
    <div style="width: 60%">
      <p>{{ currentEvent.name | uppercase }}{{this.bundle? ' BUNDLE' : ''}} CARDS</p>
    </div>
    <div style="width: 23%;">
      <ion-icon name="heart" (click)="goToWishlist()"></ion-icon>
      <ion-icon (click)="goToCart()" name="cart-outline"></ion-icon>
    </div> -->
  </ion-toolbar>
</ion-header>

<ion-content
  [scrollEvents]="true"
  (ionScroll)="logScrolling($event)"
  (ionScrollStart)="logScrollStart($event)"
  (ionScrollEnd)="logScrollEnd($event)"
  fullscreen="true">

  <app-new-loading [loading]="!currentEvent"></app-new-loading>

  <ion-fab
    *ngIf="currentEvent"
    slot="fixed"
    vertical="bottom"
    horizontal="end"
  > 
    <ion-fab-button (click)="scrollEvent()" size="small">
      <ion-icon *ngIf="canScrollUp" name="arrow-up"></ion-icon>
      <ion-icon *ngIf="canScrollDown" name="arrow-down"></ion-icon>
    </ion-fab-button>
  </ion-fab>

  <ion-grid *ngIf="currentEvent">

    <ion-row class="badge-row" *ngIf="display.length > 1  && !loading">
      <ion-list class="my-filter">
        <ion-item [lines]="'none'">
          <ion-icon name="funnel-outline"></ion-icon>
          <ion-select label="Filter" placeholder="Filter" interface="alert" (ionChange)="onRecipientSelect($event)">
              <ion-select-option *ngFor="let recipient of recipients" [value]="recipient"
              >{{recipient}}</ion-select-option>
            </ion-select>
        </ion-item>
      </ion-list>
    </ion-row>

    <ion-row class="ion-align-items-center ion-justify-content-center">
        <app-loading-mobile [loading]="loading"></app-loading-mobile>
        <app-product-list-mobile *ngIf="display && !loading" [products]="display" [type]="type!"></app-product-list-mobile>
        <h5 *ngIf="!loading && display.length == 0">No {{event | titlecase}} {{type | titlecase}} available right now!</h5>
    </ion-row>
  </ion-grid>
  </ion-content>
  